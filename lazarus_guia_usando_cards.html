<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Migrando de DBGrid para Cards - Gladiston Santana</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Fira+Code&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/estilo.css">
</head>

<body>

    <header class="main-header">
        <div class="header-container">
            <img src="assets/img/logo.jpg" alt="Logo Gladiston Santana" class="logo-circle">
            <div class="header-text">
                <h1>Pascal: Delphi & Free Pascal</h1>
                <p>Desenvolvimento robusto, compilado e de alta performance.</p>
            </div>
        </div>
    </header>

    <nav class="main-nav">
        <ul class="nav-links">
            <li><a href="index.html">In√≠cio</a></li>
            <li><a href="lazarus_guia.html">Guia de Sobreviv√™ncia</a></li>
        </ul>
    </nav>

    <main>
        <article>
            <h2>Migrando de DBGrid para Cards: Modernizando o Visual no Lazarus</h2>

            <h2>Introdu√ß√£o</h2>
            <p>O <code>TDBGrid</code> √© o her√≥i cansado do ecossistema Pascal. Ele nos serviu bem por d√©cadas, mas
                sejamos sinceros: ele tem aquele "cheiro" de aplica√ß√£o dos anos 90, com cara de planilha de Excel
                antiga. Em um mundo onde o usu√°rio est√° acostumado com interfaces fluidas e intuitivas, o DBGrid pode
                parecer burocr√°tico e confuso quando a densidade de informa√ß√£o √© alta.</p>

            <p>Os <strong>Cards</strong> (cart√µes) s√£o a evolu√ß√£o natural. Eles agrupam informa√ß√µes relacionadas em
                blocos visuais √∫nicos, facilitando a leitura e permitindo designs que se adaptam muito melhor a
                diferentes resolu√ß√µes de tela.</p>

            <p><strong>Nota t√©cnica:</strong> Para este guia, utilizaremos nomes de componentes gen√©ricos como
                <code>TQuery</code> e <code>TMemTable</code>. Entretanto, o princ√≠pio de migra√ß√£o e a l√≥gica de
                constru√ß√£o s√£o os mesmos para qualquer outra su√≠te de acesso, seja o <strong>SQLdb</strong> (nativo do
                Lazarus), <strong>Zeos</strong> (popular no Lazarus e Delphi), <strong>FireDAC</strong> (exclusivo do
                Delphi e limitado conforme a licen√ßa), <strong>UniDAC</strong> ou qualquer outra que voc√™ utilize.
            </p>


            <div class="img-placeholder">
                <img src="assets/img/lazarus_guia_usando_cards01.png" alt="Exemplo de DBGrid cl√°ssico"
                    style="max-width: 100%; border-radius: 8px;">
                <p><em>Nosso ponto de partida: um DBGrid funcional, mas visualmente saturado.</em></p>
            </div>

            <p>Note que na imagem acima o <code>TDBGrid</code> est√° sendo levado ao seu limite t√©cnico: estamos usando
                v√°rias linhas de dados em uma √∫nica linha de grid, imagens, checkboxes e outros truques de moderniza√ß√£o.
                Chegar nesse resultado exige uma montanha de c√≥digo nos eventos de desenho (como o
                <code>OnDrawColumnCell</code>). √â justamente por isso que muitos programadores evitam usar todo o
                potencial do Grid: a manuten√ß√£o torna-se um pesadelo. No decorrer deste guia, voc√™ ver√° como os Cards
                simplificam essa programa√ß√£o e entregam um aspecto muito mais moderno com uma fra√ß√£o do esfor√ßo.
            </p>

            <h2>A Abordagem: Frames + FlowPanel</h2>
            <p>Muitos desenvolvedores tentam criar "Cards" desenhando componentes diretamente em um painel comum.
                <strong>Fuja disso!</strong> Fazer desta forma √© assinar um contrato de pesadelo de manuten√ß√£o. Se voc√™
                precisar mudar uma cor de fonte ou adicionar um bot√£o em 50 cards criados manualmente, voc√™ vai se
                arrepender amargamente depois de 6 meses.
            </p>

            <h3>O TFrame: O Cora√ß√£o da Manutenibilidade</h3>
            <p>Se voc√™ nunca usou um <strong>TFrame</strong>, pense nele como um "mini formul√°rio" onde voc√™ pode
                ancor√°-lo (termo t√©cnico para "ser colado") dentro de outros formul√°rios ou pain√©is
                (<code>TPanel</code>). Diferente de um <code>TForm</code>, o Frame n√£o √© uma janela independente; √© um
                cont√™iner de componentes que voc√™ desenha uma vez e reutiliza quantas vezes quiser e onde quiser.</p>

            <p><strong>Como criar um Frame no Lazarus:</strong></p>
            <ol>
                <li>V√° ao menu superior: <strong>File > New...</strong></li>
                <li>Na √°rvore de op√ß√µes, escolha <strong>Module</strong> e selecione <strong>Frame</strong>.</li>
                <li>O Lazarus abrir√° uma √°rea de design vazia. Salve-a como <code>ufrItemCard.pas</code> e d√™ o nome √†
                    classe de <code>TfrItemCard</code>.</li>
                <li>Agora, desenhe o seu card l√° dentro: coloque Labels para o t√≠tulo, imagens para o produto e as
                    a√ß√µes.</li>
            </ol>

            <h3>Design Responsivo no Card: Ancoragem Avan√ßada</h3>
            <p>Ao desenhar seu Card, saber usar alinhamento e ancoragem √© vital. No Lazarus, temos a propriedade b√°sica
                <code>Anchors</code> (akTop, akLeft, etc.), mas para um layout verdadeiramente profissional e din√¢mico,
                voc√™ deve usar o <strong>Anchor Editor</strong>.
            </p>

            <div class="img-placeholder">
                <img src="assets/img/lazarus_guia_usando_cards02.png" alt="Lazarus Anchor Editor"
                    style="max-width: 100%; border-radius: 8px;">
                <p><em>O Anchor Editor permite amarrar componentes entre si, criando layouts inteligentes.</em></p>
            </div>

            <p>Acesse-o em <strong>View > Anchor Editor</strong>. Ele vai muito al√©m das √¢ncoras simples: essa
                ferramenta permite que voc√™ amarre um componente a outro objeto de refer√™ncia. Por exemplo: voc√™ pode
                configurar para que o <code>TEdit</code> edtDescricao fique sempre ancorado √† borda inferior e √† direita
                do Label lblDescricao, mantendo uma dist√¢ncia fixa e, mesmo em tempo de design, se voc√™ arrastar o
                TLabel, o TEdit vir√° junto.</p>

            <p>Se abaixo do TEdit de descri√ß√£o tiver um Label para "Saldo em estoque" alinhado com o edtDescricao, esse
                ser√° levado junto quando voc√™ arrastar o TLabel. Fica como no antigo jogo dos <strong>Lemmings</strong>:
                ao arrastar um, voc√™ arrasta todo mundo que est√° amarrado na fila! Al√©m disso, se um componente crescer
                de altura em tempo de execu√ß√£o, os que est√£o abaixo se ajustam automaticamente. No in√≠cio, voc√™ achar√°
                esse tipo de alinhamento mais trabalhoso de lidar; no entanto, com o passar do tempo, ver√° que ele
                economiza tempo na manuten√ß√£o, deixa o design mais fluido e tamb√©m evita que os componentes se
                sobreponham, mantendo a integridade visual do card independentemente do tamanho do texto carregado.
                Veja:</p>

            <div class="video-container">
                <video src="assets/videos/lazarus_guia_usando_cards03.mp4" autoplay loop muted playsinline
                    style="max-width: 100%; border-radius: 8px;"
                    title="Demonstra√ß√£o de ancoragem usando o Anchor Editor"></video>
            </div>

            <h3>Dica Especial: Revelamento Progressivo (Progressive Disclosure)</h3>
            <p>√Äs vezes, um card precisa mostrar muita informa√ß√£o, mas voc√™ n√£o quer que ele ocupe a tela inteira por
                padr√£o. A t√©cnica para resolver isso pode envolver v√°rias estrat√©gias, dependendo do objetivo visual:
            </p>

            <h4>1. Altern√¢ncia de Conte√∫do com TPageControl</h4>
            <p>Se voc√™ deseja trocar uma informa√ß√£o por outra no mesmo espa√ßo (ex: alternar entre "Dados do Produto" e
                "Hist√≥rico de Vendas"), use um <strong>TPageControl</strong> sem abas (<code>ShowTabs := False</code>).
                Isso desliga uma informa√ß√£o e "liga" outra no mesmo card apenas mudando a <code>ActivePageIndex</code>
                via c√≥digo.</p>

            <div class="video-container">
                <video src="assets/videos/lazarus_guia_usando_cards04.mp4" autoplay loop muted playsinline
                    style="max-width: 100%; border-radius: 8px;"
                    title="Demonstra√ß√£o de Revelamento Progressivo com PageControl"></video>
            </div>

            <h4>2. Expans√£o Vertical (Efeito Accordion)</h4>
            <p>Se a ideia √© mostrar mais informa√ß√µes rolando para baixo, a t√©cnica ideal √© empilhar pain√©is
                (<strong>TPanel</strong>) sem bordas dentro do Frame, todos com <code>Align := alTop</code>. Mantenha os
                pain√©is de detalhes com <code>Visible := False</code> inicialmente. Quando o usu√°rio clicar em um bot√£o
                de "Ver mais" (√≠cone ‚ñº), alterne a visibilidade desses pain√©is.</p>

            <div class="video-container">
                <video src="assets/videos/lazarus_guia_usando_cards05.mp4" autoplay loop muted playsinline
                    style="max-width: 100%; border-radius: 8px;"
                    title="Demonstra√ß√£o de Expans√£o Vertical (Efeito Accordion)"></video>
            </div>

            <p>Como o Frame e o FlowPanel externo est√£o configurados com <code>AutoSize := True</code>, o Lazarus ir√°
                reorganizar todos os outros cards automaticamente quando um deles "esticar" para revelar os detalhes. √â
                um efeito extremamente moderno e funcional.</p>

            <h3>O TFlowPanel: O Organizador Autom√°tico</h3>

            <p>O <strong>TFlowPanel</strong> √© um componente de layout "inteligente". Ao contr√°rio de um
                <code>TPanel</code> comum, onde voc√™ solta um componente e ele fica numa posi√ß√£o fixa, o FlowPanel
                organiza os seus filhos automaticamente em fila.
            </p>

            <p><strong>Como configurar o FlowPanel:</strong></p>
            <ul>
                <li>Localize-o na paleta de componentes (normalmente em <strong>Standard</strong> ou
                    <strong>Additional</strong>).
                </li>
                <li>Coloque-o no formul√°rio e defina a propriedade <code>Align</code> para <code>alTop</code>.</li>
                <li><strong>O Pulo do Gato:</strong> Coloque o FlowPanel dentro de um <code>TScrollBox</code> (alClient)
                    e defina <code>FlowPanel.AutoSize := True</code>. Isso garantir√° que barras de rolagem apare√ßam
                    automaticamente quando a lista de cards crescer!</li>
            </ul>

            <h3>A√ß√µes no Card: Do √çcone ao Menu</h3>
            <p>Uma grande vantagem da migra√ß√£o √© a limpeza da interface. Bot√µes como "Editar" ou "Excluir" podem sair da
                barra de ferramentas superior e ir direto para o Card. Para um ar de modernidade, troque os velhos
                <code>TSpeedButton</code> por um <code>TComboBox</code> de a√ß√µes.
            </p>
            <p>E n√£o precisa ser obrigatoriamente um ComboBox; voc√™ tamb√©m pode utilizar um <strong>TPopupMenu</strong>
                vinculado a um √≠cone de "tr√™s pontinhos" ou at√© mesmo a um Label qualquer. H√° muitos recursos visuais
                que voc√™ poder√° usar para economizar espa√ßo e/ou melhorar significativamente o aspecto visual do card,
                mantendo as op√ß√µes de edi√ß√£o e exclus√£o acess√≠veis, mas discretas.</p>

            <div class="video-container">
                <video src="assets/videos/lazarus_guia_usando_cards06.mp4" autoplay loop muted playsinline
                    style="max-width: 100%; border-radius: 8px;"
                    title="Demonstra√ß√£o de menus de a√ß√£o (TPopupMenu) num TLabel"></video>
            </div>

            <h3>N√£o tenha medo do unicode</h3>
            <p>Diferente do Delphi, onde muitas vezes o editor vem configurado com o charset ANSI (especialmente em
                vers√µes mais antigas), o editor do Lazarus √© puramente <strong>Unicode (UTF-8)</strong> por padr√£o. Isso
                significa que voc√™ pode usar caracteres especiais diretamente no seu c√≥digo-fonte e nas propriedades
                dos componentes sem medo de "quebrar" o bin√°rio.</p>

            <p>Veja como voc√™ pode usar labels para criar interfaces mais ricas sem precisar de arquivos de imagem
                adicionais:</p>

            <pre><code>procedure Tframe_RM_Item.lblMostrarMaisClick(Sender: TObject);
begin
  if ContainsText(lblMostrarMais.Caption,' mais ') then
  begin
    MyNextPanel.Visible:=true;
    lblMostrarMais.Caption:='Mostrar menos informa√ß√µes ‚ñ≤';
  end
  else
  begin
    MyNextPanel.Visible:=false;
    lblMostrarMais.Caption:='Mostrar mais informa√ß√µes ‚ñº';
  end;
end;</code></pre>

            <p>Percebeu os caracteres ‚ñ≤, ‚ñº, ‚óÄ e‚ñ∂?
                Isso mesmo! Use-os e tantos outros que
                conseguir. Evite poluir o seu projeto com arquivos de recursos (<code>.res</code>) ou imagens externas
                quando sinais diacr√≠ticos, setas ou at√© mesmo emojis do Unicode est√£o dispon√≠veis nativamente.
            </p>

            <p>Para facilitar o seu trabalho, aqui est√£o alguns caracteres Unicode que funcionam muito bem em
                labels e bot√µes para indicar a√ß√µes de forma limpa e moderna:</p>

            <div class="table-wrapper">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>S√≠mbolo</th>
                            <th>A√ß√£o Sugerida</th>
                            <th>Uso T√≠pico</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>üîç</strong> ou <strong>&#8981;</strong></td>
                            <td>Pesquisar</td>
                            <td>Bot√£o de filtro ou busca r√°pida</td>
                        </tr>
                        <tr>
                            <td><strong>üìù</strong> ou <strong>&#9998;</strong></td>
                            <td>Editar</td>
                            <td>Abrir formul√°rio de edi√ß√£o</td>
                        </tr>
                        <tr>
                            <td><strong>üóëÔ∏è</strong> ou <strong>&#128465;</strong></td>
                            <td>Excluir</td>
                            <td>Remover registro (Cuidado: use com di√°logo de confirma√ß√£o)</td>
                        </tr>
                        <tr>
                            <td><strong>‚ûï</strong> ou <strong>&#10010;</strong></td>
                            <td>Novo</td>
                            <td>Adicionar novo Item/Registro</td>
                        </tr>
                        <tr>
                            <td><strong>üíæ</strong> ou <strong>&#128190;</strong></td>
                            <td>Salvar</td>
                            <td>Gravar altera√ß√µes no banco</td>
                        </tr>
                        <tr>
                            <td><strong>‚öôÔ∏è</strong> ou <strong>&#9881;</strong></td>
                            <td>Configura√ß√µes</td>
                            <td>Op√ß√µes do sistema ou do card</td>
                        </tr>
                        <tr>
                            <td><strong>üîÑ</strong> ou <strong>&#8631;</strong></td>
                            <td>Atualizar</td>
                            <td>Recarregar dados (Refresh)</td>
                        </tr>
                        <tr>
                            <td><strong>üìÖ</strong> ou <strong>&#128197;</strong></td>
                            <td>Data</td>
                            <td>Selecionar per√≠odo ou data de lan√ßamento</td>
                        </tr>
                        <tr>
                            <td><strong>üìÇ</strong> ou <strong>&#128193;</strong></td>
                            <td>Abrir</td>
                            <td>Explorar arquivos ou pastas</td>
                        </tr>
                        <tr>
                            <td><strong>‚ò∞</strong> ou <strong>&#9776;</strong></td>
                            <td>Menu</td>
                            <td>Menu hamb√∫rguer para op√ß√µes extras</td>
                        </tr>
                        <tr>
                            <td><strong>üëç</strong> e <strong>üëé</strong></td>
                            <td>Aprovar / Rejeitar</td>
                            <td>Feedback positivo ou negativo</td>
                        </tr>
                        <tr>
                            <td><strong>‚Üê ‚Üë ‚Üí ‚Üì</strong></td>
                            <td>Navega√ß√£o</td>
                            <td>Setas direcionais para controle de fluxo</td>
                        </tr>
                        <tr>
                            <td><strong>üè†</strong> ou <strong>&#127968;</strong></td>
                            <td>In√≠cio</td>
                            <td>Voltar para a tela principal (Home)</td>
                        </tr>
                        <tr>
                            <td><strong>üîî</strong> ou <strong>&#128276;</strong></td>
                            <td>Avisos</td>
                            <td>Alertas e notifica√ß√µes do sistema</td>
                        </tr>
                        <tr>
                            <td><strong>üîí</strong>, <strong>üîì</strong> ou <strong>&#128274;</strong></td>
                            <td>Privacidade</td>
                            <td>Indicar campos bloqueados/desbloqueados ou seguran√ßa</td>
                        </tr>
                        <tr>
                            <td><strong>‚≠ê</strong> ou <strong>&#11088;</strong></td>
                            <td>Favorito</td>
                            <td>Marcar itens de destaque</td>
                        </tr>
                        <tr>
                            <td><strong>üìã</strong> ou <strong>&#128203;</strong></td>
                            <td>Copiar</td>
                            <td>Copiar conte√∫do para a √°rea de transfer√™ncia</td>
                        </tr>
                        <tr>
                            <td><strong>üì•</strong> ou <strong>&#128229;</strong></td>
                            <td>Colar</td>
                            <td>Colar conte√∫do da √°rea de transfer√™ncia</td>
                        </tr>
                        <tr>
                            <td><strong>‚ñ∂Ô∏é</strong>, <strong>‚è∏Ô∏é</strong>, <strong>‚èπÔ∏é</strong></td>
                            <td>Multim√≠dia</td>
                            <td>Controles de Play, Pause e Stop</td>
                        </tr>
                        <tr>
                            <td><strong>‚ñ≤, ‚ñº, ‚óÄ, ‚ñ∂</strong></td>
                            <td>Tri√¢ngulos</td>
                            <td>Expans√£o, recolhimento e navega√ß√£o lateral</td>
                        </tr>
                        <tr>
                            <td><strong>‚óÑ</strong> e <strong>‚ñ∫</strong></td>
                            <td>Ponteiros S√≥lidos</td>
                            <td>Varia√ß√µes mais largas para bot√µes de navega√ß√£o lateral</td>
                        </tr>
                        <tr>
                            <td><strong>‚úì</strong>, <strong>‚úÖ</strong>, <strong>‚òê</strong>, <strong>‚ùå</strong>,
                                <strong>‚òë</strong>
                            </td>
                            <td>Sele√ß√£o</td>
                            <td>Check, Uncheck e Selecionar Tudo (Check All)</td>
                        </tr>
                        <tr>
                            <td><strong>‚è≥</strong>, <strong>‚åõ</strong>, <strong>‚è±Ô∏è</strong>, <strong>‚è∞</strong></td>
                            <td>Tempo</td>
                            <td>Processamentos, agendamentos e prazos</td>
                        </tr>
                        <tr>
                            <td><strong>üí∞</strong>, <strong>üíµ</strong>, <strong>ÔøΩ</strong></td>
                            <td>Financeiro</td>
                            <td>Moedas, pagamentos e valores monet√°rios</td>
                        </tr>
                        <tr>
                            <td><strong>‚ùó</strong>, <strong>‚ùì</strong>, <strong>‚ö†Ô∏è</strong>, <strong>üö®</strong>,
                                <strong>üõë</strong>
                            </td>
                            <td>Alertas</td>
                            <td>Avisos, perguntas, perigo e interrup√ß√µes</td>
                        </tr>
                        <tr>
                            <td><strong>üíÄ</strong>, <strong>‚ò†Ô∏è</strong>, <strong>üö´</strong></td>
                            <td>Perigo/Proibido</td>
                            <td>A√ß√µes cr√≠ticas, erros fatais ou restri√ß√µes</td>
                        </tr>
                        <tr>
                            <td><strong>üìß</strong>, <strong>‚úâÔ∏è</strong>, <strong>üí¨</strong>, <strong>üìç</strong></td>
                            <td>Comunica√ß√£o</td>
                            <td>E-mail, mensagens, bal√µes de fala e localiza√ß√£o</td>
                        </tr>
                        <tr>
                            <td><strong>üëÅÔ∏è</strong>, <strong>üôà</strong></td>
                            <td>Visualiza√ß√£o</td>
                            <td>Exibir senha (olho aberto) ou ocultar (olho fechado)</td>
                        </tr>
                        <tr>
                            <td><strong>‚óã</strong> e <strong>‚óè</strong></td>
                            <td>Geom√©tricos</td>
                            <td>C√≠rculos para estados de r√°dio ou indicadores cheios/vazios</td>
                        </tr>
                        <tr>
                            <td><strong>‚ôªÔ∏è</strong></td>
                            <td>Reciclagem</td>
                            <td>Processos de atualiza√ß√£o ou reutiliza√ß√£o</td>
                        </tr>
                        <tr>
                            <td><strong>¬©</strong>, <strong>¬Æ</strong>, <strong>‚Ñ¢</strong></td>
                            <td>Jur√≠dico</td>
                            <td>Copyright, Marca Registrada e Trade Mark</td>
                        </tr>
                        <tr>
                            <td><strong>üèÅ</strong>, <strong>üö©</strong>, <strong>üè≥Ô∏è</strong>, <strong>üè¥</strong>,
                                <strong>üü¢</strong>, <strong>üü°</strong>
                            </td>
                            <td>Estados (Status)</td>
                            <td>Bandeiras e cores para In√≠cio, Em andamento, Conclu√≠do e Alertas</td>
                        </tr>
                        <tr>
                            <td><strong>üì•</strong>, <strong>‚¨áÔ∏è</strong>, <strong>‚è¨</strong></td>
                            <td>Download</td>
                            <td>Baixar arquivos ou receber dados</td>
                        </tr>
                        <tr>
                            <td><strong>üì§</strong>, <strong>‚¨ÜÔ∏è</strong>, <strong>‚è´</strong></td>
                            <td>Upload</td>
                            <td>Enviar arquivos ou carregar dados</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <p>Para uma lista completa e visual, voc√™ pode consultar a lista de emojis e s√≠mbolos em:
                <a href="https://emojitool.com/pt" target="_blank" rel="noopener noreferrer">Emojitool</a>.
            </p>

            <h3>Dica Pro: Usando c√≥digos Unicode no Pascal</h3>
            <p>Se voc√™ preferir n√£o "colar" o s√≠mbolo diretamente no seu c√≥digo-fonte (para evitar problemas de
                Encoding em editores de texto mal configurados), o Pascal permite que voc√™ use o c√≥digo decimal
                ou hexadecimal do caractere precedido pelo sinal de cerquilha (<code>#</code>).
            </p>

            <p>Veja como ficaria o exemplo do "Mostrar mais" usando essa t√©cnica:</p>

            <pre><code>// Usando c√≥digos hexadecimais para os tri√¢ngulos:
// #$25B2 = ‚ñ≤ (Tri√¢ngulo para cima)
// #$25BC = ‚ñº (Tri√¢ngulo para baixo)

if ContainsText(lblMostrarMais.Caption, 'mais') then
begin
  MyNextPanel.Visible := True;
  lblMostrarMais.Caption := 'Mostrar menos informa√ß√µes ' + #$25B2;
end
else
begin
  MyNextPanel.Visible := False;
  lblMostrarMais.Caption := 'Mostrar mais informa√ß√µes ' + #$25BC;
end;</code></pre>

            <p>Essa abordagem √© extremamente robusta e garante que o caractere correto ser√° renderizado
                independentemente
                do sistema operacional ou da configura√ß√£o de idioma do compilador.</p>

            <h3>Use efeitos de hyperlink nos Labels</h3>
            <p>Podemos usar eventos nos labels para criar um efeito de hyperlink similar aos navegadores, tornando a
                interface mais intuitiva para a√ß√µes. Por exemplo, no evento <code>OnMouseEnter</code> (quando o mouse
                passa por cima do label), voc√™ pode torn√°-lo azul, sublinhado e negrito. Veja este c√≥digo gen√©rico que
                serve para qualquer <code>TLabel</code>:</p>

            <pre><code>if (Sender is TLabel) then
begin
  with (Sender as TLabel) do
  begin
    Font.Style := Font.Style + [fsBold, fsUnderline];
    Font.Color := clBlue;
  end;
end;</code></pre>

            <p>E depois, use o evento <code>OnMouseLeave</code> (quando o mouse sai da √°rea do label) para desfazer os
                efeitos aplicados e retornar ao estado original:</p>

            <pre><code>if (Sender is TLabel) then
begin
  with (Sender as TLabel) do
  begin
    Font.Style := Font.Style - [fsBold, fsUnderline];
    Font.Color := clDefault;
  end;
end;</code></pre>
            <p>Veja como fica o efeito de hyperlink em labels:</p>
            <div class="video-container">
                <video src="assets/videos/lazarus_guia_usando_cards04.mp4" autoplay loop muted playsinline
                    style="max-width: 100%; border-radius: 8px;"
                    title="Demonstra√ß√£o de efeito de hyperlink em labels"></video>
            </div>

            <h3>Comparativo de Manutenibilidade</h3>
            <p>Para quem ainda tem d√∫vidas sobre qual caminho seguir, o quadro abaixo resume os ganhos reais de
                produtividade e organiza√ß√£o ao adotar o uso de Frames em conjunto com o FlowPanel. N√£o se trata apenas
                de est√©tica, mas de preparar seu projeto para o crescimento e para manuten√ß√µes r√°pidas e seguras:</p>

            <div class="table-wrapper">
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Crit√©rio</th>
                            <th>Sem Frames (Gambiarra)</th>
                            <th>Com Frames + FlowPanel</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Alterar Layout</strong></td>
                            <td>Terror (mexer em cada item via c√≥digo)</td>
                            <td><strong>F√°cil</strong> (muda apenas no Designer do Frame)</td>
                        </tr>
                        <tr>
                            <td><strong>Depura√ß√£o</strong></td>
                            <td>Ca√≥tica (milhares de componentes soltos)</td>
                            <td><strong>Organizada</strong> (l√≥gica isolada no Frame)</td>
                        </tr>
                        <tr>
                            <td><strong>Legibilidade</strong></td>
                            <td>Baixa (Formul√°rio principal gigante)</td>
                            <td><strong>Alta</strong> (C√≥digo modular e limpo)</td>
                        </tr>
                        <tr>
                            <td><strong>Reutiliza√ß√£o</strong></td>
                            <td>Nula (precisa copiar e colar componentes e c√≥digo)</td>
                            <td><strong>Alta</strong> (o mesmo card serve para v√°rias telas do sistema)</td>
                        </tr>
                        <tr>
                            <td><strong>Consist√™ncia</strong></td>
                            <td>Fr√°gil (mudar um padr√£o visual exige altera√ß√£o manual em cada item)</td>
                            <td><strong>Total</strong> (mudou no "molde", mudou em todo o projeto)</td>
                        </tr>
                        <tr>
                            <td><strong>Trabalho em Equipe</strong></td>
                            <td>Dif√≠cil (gera muitos conflitos na Unit principal)</td>
                            <td><strong>Paralelo</strong> (um mexe no Card, outro na l√≥gica da tela principal)</td>
                        </tr>
                        <tr>
                            <td><strong>Testabilidade</strong></td>
                            <td>Complexa (l√≥gica misturada com a tela e o banco)</td>
                            <td><strong>Simplificada</strong> (voc√™ testa o Frame isoladamente)</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h2>Exemplo de Fluxo de Trabalho (O Jeito Certo)</h2>

            <h3>1. A Estrat√©gia de Dados: Desacoplamento √© a Chave</h3>
            <p>Muitos programadores ainda caem na armadilha de usar o <strong>TQuery</strong> direto ou "espetar" os
                componentes do Frame diretamente ao DataSet da consulta principal. Funciona? Sim, mas √© a t√≠pica t√©cnica
                do "fazedor de telas" que n√£o projeta para o futuro. Ao fazer essa liga√ß√£o direta, voc√™ cria uma
                depend√™ncia r√≠gida: o seu Card passa a ser um escravo daquela consulta espec√≠fica, tornando imposs√≠vel
                reutiliz√°-lo com dados vindos de outra origem.</p>

            <p>Esse √© o ponto crucial que separa os amadores dos arquitetos de software. Usar um
                <strong>TMemTable</strong> ou carregar os dados para uma <code>TObjectList</code> √© muito mais elegante.
                Isso garante o <strong>desacoplamento</strong>: o seu Frame n√£o precisa saber se os dados v√™m de um
                banco Firebird antigo, de um Postgres moderno ou de uma API JSON; ele apenas recebe os valores prontos e
                os exibe.
            </p>

            <p>Vale lembrar que componentes como o <strong>TMemTable</strong> possuem m√©todos poderosos para clonar
                outros datasets, seja apenas a estrutura ou a estrutura completa com os dados (como o
                <code>CopyFromDataset</code>). N√£o √© necess√°rio ‚Äî e nem produtivo ‚Äî ficar populando registro a registro
                via c√≥digo manual; afinal, isso seria como estar no jardim de inf√¢ncia na escola de programa√ß√£o. Al√©m
                disso, ao usar mem√≥ria, a atualiza√ß√£o da tela torna-se instant√¢nea, sem estressar a rede a cada refresh.
            </p>

            <h3>2. Implementando a L√≥gica Interna do Frame (usando Propriedades)</h3>
            <p>Para um c√≥digo profissional, a abordagem mais limpa e orientada a objetos √© usar <strong>Propriedades
                    (Properties)</strong> com <strong>getters</strong> e <strong>setters</strong> diretamente no Frame
                para receber os dados que o Card precisa exibir. Isso
                encapsula a l√≥gica e permite que o Frame reaja instantaneamente quando um dado √© alterado.</p>

            <pre><code>{ TfrItemCard }
type
  TfrItemCard = class(TFrame)
    lblDescricao: TLabel;
    lblEstoque: TLabel;
    // ... outros componentes visuais ...
  private
    FCodigo: Integer;
    FDescricao: string;
    FValor: Currency;
    FEstoque: Double;
    procedure SetCodigo(const AValue: Integer);
    procedure SetDescricao(const AValue: string);
    procedure SetValor(const AValue: Currency);
    procedure SetEstoque(const AValue: Double);
  public
    property Codigo: Integer read FCodigo write SetCodigo;
    property Descricao: string read FDescricao write SetDescricao;
    property Valor: Currency read FValor write SetValor;
    property Estoque: Double read FEstoque write SetEstoque;
  end;

implementation

// O m√©todo setter (SetCodigo) pode atualizar um Label ou Edit
procedure TfrItemCard.SetCodigo(const AValue: Integer);
begin
  if FCodigo = AValue then Exit;
  FCodigo := AValue;
  // Exemplo: edtCodigo.Text := IntToStr(FCodigo);
  // ou lblCodigo.Caption := IntToStr(FCodigo);
end;

// O m√©todo setter (SetDescricao) atualiza o visual assim que a propriedade recebe um valor
procedure TfrItemCard.SetDescricao(const AValue: string);
begin
  if FDescricao = AValue then Exit;
  FDescricao := AValue;
  lblDescricao.Caption := FDescricao;
end;

// O m√©todo setter (SetValor) atualiza o visual formatando a moeda
procedure TfrItemCard.SetValor(const AValue: Currency);
begin
  if FValor = AValue then Exit;
  FValor := AValue;
  // Supondo que voc√™ tenha um TLabel ou TEdit para o valor
  // Exemplo: edtValor.Text := FormatFloat('"R$ ",0.00', FValor);
end;

// O m√©todo setter (SetEstoque) injeta a regra de neg√≥cio visual
procedure TfrItemCard.SetEstoque(const AValue: Double);
begin
  if FEstoque = AValue then Exit;
  FEstoque := AValue;
  
  lblEstoque.Caption := 'Qtd: ' + FloatToStr(FEstoque);

  // L√≥gica visual: Isolada e f√°cil de manter, executada automaticamente ao definir a propriedade!
  if FEstoque <= 0 then
  begin
    lblEstoque.Font.Color := clRed;
    lblEstoque.Font.Style := [fsBold];
  end
  else
  begin
    lblEstoque.Font.Color := clDefault;
    lblEstoque.Font.Style := [];
  end;
end;</code></pre>

            <h3>3. O Loop de Cria√ß√£o (No Formul√°rio Principal)</h3>
            <p>Com o Frame pronto e usando propriedades, percorremos os dados e injetamo-los no card, aplicando o
                efeito Zebra para que cada card se identifique como diferente do outro. Neste exemplo, n√£o usarei Bevels
                para criar o efeito de sombra ou gradientes para ser apenas did√°tico, mas depois que dominar a t√©cnica √©
                muito prov√°vel que fa√ßa uso deles porque realmente deixa os cards muito bonitos. Por ora, quero que note
                a simplicidade em atribuir os valores diretamente √†s propriedades do Frame criado:</p>

            <pre><code>
procedure TFormPrincipal.CarregarCards;
var
  Card: TfrItemCard;
begin
  FlowPanel1.DisableAlign; // Performance: Bloqueia realinhamento durante o loop
  try
    qPesquisa.Open;

    // Limpa cards existentes
    while FlowPanel1.ControlCount > 0 do
      FlowPanel1.Controls[0].Free;

    qPesquisa.First;
    while not qPesquisa.EOF do
    begin
      Card := TfrItemCard.Create(Self);
      Card.Parent := FlowPanel1;
      Card.Name := 'Card_' + qPesquisa.FieldByName('ID').AsString;

      // Vincula um menu de a√ß√µes global ao bot√£o do card
      Card.lblMostrar_Opcoes.PopupMenu := Menu_Acoes;

      // EFEITO ZEBRA: Altern√¢ncia de cores
      if Odd(FlowPanel1.ControlCount) then
        Card.Color := $E9EFF5
      else
        Card.Color := $F7F9FB;

      // Se o card tiver um bot√£o do estilo "Aplicar" para efetivar modifica√ß√µes    
      // O bot√£o no evento onclick deve ser assinalado para que o card saiba o que 
      // fazer apenas para aquele card
      //Card.btnAplicar.OnClick := Card.btnAplicarClick;

      // Inje√ß√£o de dados direta via Propriedades
      Card.Codigo    := qPesquisa.FieldByName('ID').AsInteger;
      Card.Descricao := qPesquisa.FieldByName('NOME').AsString;
      Card.Estoque   := qPesquisa.FieldByName('SALDO').AsFloat;
      Card.Valor     := qPesquisa.FieldByName('PRECO').AsCurrency;

      qPesquisa.Next;
    end;
  finally
    FlowPanel1.EnableAlign;
    FlowPanel1.Realign;
  end;
end;
</code></pre>

            <p><strong>Dica de Arquitetura:</strong> Note que vinculamos o <code>PopupMenu</code> (ou qualquer outro
                evento de bot√£o) que tenha implica√ß√µes nos dados ‚Äî como consultas ou altera√ß√µes ‚Äî diretamente no loop de
                cria√ß√£o. Isto √© fundamental: a <strong>Tela Principal</strong> (que conhece o contexto do banco de
                dados) deve gerenciar as a√ß√µes de neg√≥cio. Deixe para o <strong>Frame</strong> apenas os eventos de
                interatividade puramente visual, como o <em>revelamento progressivo</em>, os <em>efeitos de
                    hyperlink</em> ou anima√ß√µes internas.</p>

            <p>Se voc√™ assinalou um evento de clique para um bot√£o dentro do card (como o <code>btnAplicar</code> no
                exemplo acima), voc√™ precisar√° saber de qual card veio o clique para obter os dados corretos. Voc√™ faz
                isso
                fazendo um <em>cast</em> (convers√£o de tipo) do par√¢metro <code>Sender</code> ou acessando o
                <code>Parent</code> do bot√£o clicado:
            </p>

            <pre><code>procedure TFormPrincipal.btnAplicarClick(Sender: TObject);
var
  CardClicado: TfrItemCard;
  ComponenteAtual: TControl;
begin
  if not (Sender is TControl) then Exit; 

  // O Parent do bot√£o pode ser um Panel, um fluxo, ou o pr√≥prio Frame. 
  // Precisamos subir na hierarquia at√© encontrar o Frame (TfrItemCard).
  ComponenteAtual := TControl(Sender);
  CardClicado := nil;

  while Assigned(ComponenteAtual) do
  begin
    if ComponenteAtual is TfrItemCard then
    begin
      CardClicado := TfrItemCard(ComponenteAtual);
      Break;
    end;
    ComponenteAtual := ComponenteAtual.Parent;
  end;

  if Assigned(CardClicado) then
  begin
    // Agora voc√™ tem acesso total ao Frame que disparou o evento!
    // Exemplo: pegando o texto de um Label interno (embora menos recomendado):
    ShowMessage('Voc√™ clicou em aplicar no produto: ' + CardClicado.lblDescricao.Caption);
    
    // O JEITO MAIS ELEGANTE: Acesse diretamente as propriedades que voc√™ criou no Frame!
    // Ex: ProcessarVenda(CardClicado.Codigo, CardClicado.Valor);
  end;
end;</code></pre>

            <h2>Dicas de "Pulo do Gato" no Lazarus</h2>
            <ul>
                <li><strong>Scroll Autom√°tico:</strong> Quando o FlowPanel est√° cheio de Frames, o foco pode ficar
                    "preso" nos componentes internos. Para resolver, implemente o evento <code>OnMouseWheel</code> no
                    seu Frame e repasse o comando para o ScrollBox pai:
                    <pre><code>procedure TfrItemCard.FrameMouseWheel(Sender: TObject; Shift: TShiftState;
  WheelDelta: Integer; MousePos: TPoint; var Handled: Boolean);
begin
  // Repassa o movimento para o ScrollBox pai atrav√©s do TFlowPanel
  if (Parent is TFlowPanel) and (TFlowPanel(Parent).Parent is TScrollBox) then
    TScrollBox(TFlowPanel(Parent).Parent).VertScrollBar.Position :=
      TScrollBox(TFlowPanel(Parent).Parent).VertScrollBar.Position - WheelDelta;
  Handled := True;
end;</code></pre>
                </li>
                <li><strong>Constraints:</strong> No Frame, defina <code>Constraints.MinWidth</code> para impedir
                    deforma√ß√µes visuais indesejadas.</li>
                <li><strong>Eventos de Clique:</strong> Lembre-se que o usu√°rio clica nos Labels. Reatribua o
                    <code>OnClick</code> dos componentes internos para o evento do Painel principal do Frame para o card
                    todo ser clic√°vel.
                </li>
                <li><strong>Estilo Visual:</strong> Use a propriedade <code>BevelOuter</code> ou um <code>TShape</code>
                    ao fundo para criar efeito de profundidade.</li>
            </ul>

            <h2>Como fica nosso exemplo?</h2>
            <p>Ao aplicarmos todas as sugest√µes indicadas neste guia, nosso projeto se comportaria como mostrado no
                v√≠deo abaixo:</p>

            <div class="video-container">
                <video src="assets/videos/lazarus_guia_usando_cards98.mp4" autoplay loop muted playsinline
                    style="max-width: 100%; border-radius: 8px;"
                    title="Exemplo pr√°tico com cards e bot√£o Aplicar"></video>
            </div>

            <p>Note que neste exemplo, a altera√ß√£o de cada card √© <strong>individual</strong>. Para deixar isso claro,
                criei um bot√£o "Aplicar" que apenas se habilita quando algo √© alterado no card; ao clicar nele, a
                informa√ß√£o √© gravada de forma indel√©vel. Ent√£o, se voc√™ alterar dois ou mais cards simultaneamente,
                apenas os bot√µes "Aplicar" destes cards estar√£o ligados ou dispon√≠veis.</p>
            <p>Caso queira o exemplo completo para testar em seu pr√≥prio computador, poder√° baix√°-lo do reposit√≥rio:
                <a href="https://github.com/gladiston/lazdemos_gsl/tree/main/lazdemo_cards" target="_blank"
                    rel="noopener noreferrer">lazdemo_cards no GitHub</a>.
            </p>

            <h2>O Resultado Final: Da Planilha Est√°tica ao Design Fluido</h2>
            <p>Compare agora o impacto visual. Aquele <code>TDBGrid</code> denso e limitado que vimos no in√≠cio deu
                lugar a uma interface baseada em cart√µes. Note que, mesmo mantendo uma est√©tica limpa e sem bibliotecas
                externas de terceiros, o ganho em clareza √© imediato.</p>

            <p>As informa√ß√µes que antes lutavam por espa√ßo em colunas r√≠gidas agora respiram em um layout hier√°rquico,
                utilizando <strong>exibi√ß√£o progressiva</strong> para ocultar detalhes secund√°rios e <strong>elementos
                    visuais contextuais</strong> para destacar o que realmente importa. √â a prova de que a robustez do
                Pascal pode ‚Äî e deve ‚Äî caminhar junto com um design moderno e eficiente:</p>

            <div class="video-container">
                <video src="assets/videos/lazarus_guia_usando_cards99.mp4" autoplay loop muted playsinline
                    style="max-width: 100%; border-radius: 8px;"
                    title="Resultado final da convers√£o de DBGrid para cards"></video>
            </div>

            <p>Quando temos informa√ß√µes colunadas, isto √©, um TEdit abaixo de cada TLabel e com repeti√ß√£o ent√£o √©
                poss√≠vel comprimir ainda mais, basta criamos um cabe√ßalho usando <code>TLabels</code> no topo fora do
                TFrame e
                ent√£o colocar apenas as informa√ß√µes no TFrame sem os TLabels. Da√≠ ficaria um card bem parecido ao DBGrid
                inicial,
                mas sem a complica√ß√£o toda de programar os eventos OnDrawColumnCell, rolagens laterais, etc.</p>

            <h2>Conclus√£o</h2>
            <p>Abandonar o DBGrid n√£o √© apenas uma quest√£o de est√©tica, √© usabilidade profissional. Usando
                <strong>Frames e FlowPanels</strong>, voc√™ pode at√© entregar a apar√™ncia de um DBGrid, mas sem a
                complexidade dele,
                al√©m disso, entrega uma interface moderna sem sacrificar a robustez do Pascal. O seu "eu" daqui a
                6 meses agradecer√° por n√£o ter feito uma gambiarra!
            </p>

        </article>
    </main>

    <footer class="main-footer">
        <p>&copy; 2026 Gladiston Santana - S√£o Paulo, Brasil</p>
    </footer>

</body>

</html>